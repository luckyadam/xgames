"use strict";PP.define("games/page/share",function(t,i,n){var e=_.Class.extend({construct:function(t){this.conf=$.extend({$el:null},t),this.init()},init:function(){}});n.exports=e}),PP.define("games/widget/game_carousel",function(t,i,n){var e=_.Class.extend({canSlide:!0,construct:function(t){this.conf=$.extend({wrapper:$("body"),isAuto:!1},t),this.init()},init:function(){var t=this.conf.wrapper;this.wrapperWidth=this.conf.wrapper.width(),this.initial={x:5,y:5,sx:0,sy:0,ex:0,ey:0},this.$before=t.find(".before"),this.$prev=t.find(".prev"),this.$next=t.find(".next"),this.initEvent(),this.conf.isAuto&&this.auto()},initEvent:function(){this.conf.wrapper.on("touchstart",$.proxy(this.onStart,this)).on("touchmove",$.proxy(this.onMove,this)).on("touchend",$.proxy(this.onEnd,this))},classArr:["prev","before","next"],classIdx:1,changeIndex:function(t){this.classIdx;this.classIdx=this.classIdx+t,this.classIdx>2&&(this.classIdx=0),this.classIdx<0&&(this.classIdx=2),_.eventCenter.trigger("games_widget_game_carousel:change",this.classIdx),this.conf.wrapper.removeClass("prev").removeClass("before").removeClass("next").addClass(this.classArr[this.classIdx])},onStart:function(t){var i=this.initial,n=this.conf.wrapper;0===this.wrapperWidth&&(this.wrapperWidth=n.width()),i.sx=t.targetTouches[0].pageX,i.sy=t.targetTouches[0].pageY,i.ex=i.sx,i.ey=i.sy,this.conf.isAuto&&clearInterval(this.autoInterval)},onMove:function(t){if(this.canSlide){this.canSlide=!1;var i=this.initial;i.ex=t.targetTouches[0].pageX,i.ey=t.targetTouches[0].pageY,setTimeout(function(){this.canSlide=!0}.bind(this),200)}},onEnd:function(t){var i=this.initial,n=i.sx-i.ex,e=i.sy-i.ey;Math.abs(e)<Math.abs(n)&&(t.preventDefault(),n>0?this.changeIndex(1):this.changeIndex(-1)),this.conf.isAuto&&(clearInterval(this.autoInterval),this.auto())},auto:function(){this.autoInterval=setInterval($.proxy(function(){this.changeIndex(1)},this),3e3)}});n.exports=e}),PP.define("games/widget/share_download",function(t,i,n){var e=_.Class.extend({construct:function(t){this.conf=$.extend({$el:null},t),this.init()},init:function(){this.initEvent()},initEvent:function(){this.conf.$el.on("click",".share_download_down",$.proxy(this.download,this)).on("click",".share_download_open",$.proxy(this.open,this))},download:function(){},open:function(){}});n.exports=e}),PP.define("games/widget/winner_list",function(t,i,n){function e(t){var i=new Date,n=setInterval(function(){var e=new Date-i,s=e/t.duration;s>1&&(s=1);var a=t.delta(s);t.step(a),1==s&&clearInterval(n)},t.delay||10);return n}function s(t){return Math.ceil(t/40*640/750*1e4)/1e4}var a={support3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,setTranslateY:function(t){return this.support3d?"translate3d(0, "+t+", 0)":"translate(0, "+t+")"},setTranslateX:function(t){return this.support3d?"translate3d("+t+", 0, 0)":"translate("+t+", 0)"}},r=_.Class.extend({construct:function(t){this.conf=$.extend({$el:null},t),this.init()},init:function(){this.$ul=this.conf.$el.find(".winner_list_cont_list"),this.getWinnerList()},getWinnerList:function(t){var i=this;$.ajax({url:"http://static.paipaiimg.com/js/data/ppms.page17474.js",data:{},type:"GET",dataType:"jsonp",timeout:5e3,jsonpCallback:"showPageData17474",success:function(t){if(t&&t.data){var n=t.data;if("function"==typeof n.sort){for(var e="",s=0;s<n.length;s++){var a="<li><div>"+n[s].num+"</div><div>抽中"+n[s].award+"</div></li>";e+=a}for(var s=0;s<n.length;s++){var a="<li><div>"+n[s].num+"</div><div>抽中"+n[s].award+"</div></li>";e+=a}i.$ul.append(e),i.ulHeight=i.$ul.height(),i.autoScroll()}}},error:function(i,n,e){t&&t()}})},autoScroll:function(){var t=this.ulHeight;0===t&&(t=this.ulHeight=this.$ul.height()),e({delay:10,duration:6e3,delta:function(t){return t},step:$.proxy(function(i){this.$ul.css({"-webkit-transform":a.setTranslateY(s(-t*i)+"rem"),transform:a.setTranslateY(s(-t*i)+"rem")}),1===i&&(this.$ul.css({"-webkit-transform":a.setTranslateY(0),transform:a.setTranslateY(0)}),this.autoScroll())},this)})}});n.exports=r});